[gd_scene load_steps=10 format=3 uid="uid://bkbmc4fldg8xb"]

[ext_resource type="PackedScene" uid="uid://haxlve3xg6lc" path="res://scenes/maps/TestWorld.tscn" id="1_fpiia"]
[ext_resource type="Script" path="res://scripts/entities/player/LocalPlayer.cs" id="2_ioncx"]
[ext_resource type="PackedScene" uid="uid://m1j8m6acidmd" path="res://scenes/player/Player.tscn" id="2_q7brq"]
[ext_resource type="ArrayMesh" uid="uid://d4f75kg66pxvn" path="res://models/entities/player/crosshair.res" id="3_mjswg"]
[ext_resource type="Script" path="res://scripts/entities/player/PlayerMovement.cs" id="3_rf4s3"]
[ext_resource type="Script" path="res://scripts/entities/player/Crosshair.cs" id="3_vxgg6"]
[ext_resource type="Script" path="res://scripts/entities/camera/FollowCamera.cs" id="6_7r02q"]
[ext_resource type="ArrayMesh" uid="uid://df1220uiccfbw" path="res://models/entities/player/rotationIndicator.res" id="7_3p5ae"]
[ext_resource type="Script" path="res://scripts/entities/camera/OverlayCamera.cs" id="8_ws288"]

[node name="World" type="Node3D"]

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707106, -0.541675, 0.454519, 0, 0.642787, 0.766044, -0.707106, -0.541675, 0.454519, 0, 3, 0)
shadow_enabled = true

[node name="TestWorld" parent="." instance=ExtResource("1_fpiia")]

[node name="LocalPlayer" type="Node3D" parent="."]
script = ExtResource("2_ioncx")

[node name="Crosshair" type="Node3D" parent="LocalPlayer" node_paths=PackedStringArray("_camera3D")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.00279, 0)
script = ExtResource("3_vxgg6")
_camera3D = NodePath("../MainCamera")

[node name="Model" type="MeshInstance3D" parent="LocalPlayer/Crosshair"]
transform = Transform3D(-2.18557e-08, -0.5, 0, 0.5, -2.18557e-08, 0, 0, 0, 0.5, 0, 0, 0)
layers = 16
mesh = ExtResource("3_mjswg")

[node name="Player" parent="LocalPlayer" node_paths=PackedStringArray("_crosshair") instance=ExtResource("2_q7brq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.5, 5, 0)
rotation_edit_mode = 1
script = ExtResource("3_rf4s3")
_crosshair = NodePath("../Crosshair")

[node name="RotationIndicator" type="MeshInstance3D" parent="LocalPlayer/Player"]
transform = Transform3D(-4.37114e-08, 1, -4.37114e-08, 0, -4.37114e-08, -1, -1, -4.37114e-08, 1.91069e-15, 0, -0.75, 0)
mesh = ExtResource("7_3p5ae")

[node name="MainCamera" type="Camera3D" parent="LocalPlayer" node_paths=PackedStringArray("_target")]
transform = Transform3D(0.707107, -0.5, 0.5, 0, 0.707107, 0.707107, -0.707107, -0.5, 0.5, 10, 10, 10)
cull_mask = 1048559
current = true
fov = 60.0
script = ExtResource("6_7r02q")
_target = NodePath("../Player")
_offset = Vector3(0, 17.5, 12.5)

[node name="CanvasLayer" type="CanvasLayer" parent="LocalPlayer/MainCamera"]
follow_viewport_enabled = true

[node name="SubViewportContainer" type="SubViewportContainer" parent="LocalPlayer/MainCamera/CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="LocalPlayer/MainCamera/CanvasLayer/SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
size_2d_override_stretch = true
render_target_update_mode = 4

[node name="OverlayCamera" type="Camera3D" parent="LocalPlayer/MainCamera/CanvasLayer/SubViewportContainer/SubViewport" node_paths=PackedStringArray("_mainCamera")]
cull_mask = 16
fov = 60.0
script = ExtResource("8_ws288")
_mainCamera = NodePath("../../../..")
